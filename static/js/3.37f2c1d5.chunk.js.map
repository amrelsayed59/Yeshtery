{"version":3,"sources":["services/products.tsx","modules/main/Components/Item.tsx","modules/main/index.tsx"],"names":["getAllProducts","fetch","then","res","json","result","catch","error","console","log","store","addNotification","title","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","pauseOnHover","Item","product","handleClickCard","className","src","productImage","alt","productName","productPrice","productCurrency","productLogo","height","onClick","Main","searchHistory","useMainState","dispatch","useMainDispatch","useState","products","setProducts","historyCard","setHistoryCard","loader","setLoader","getProducts","productList","item","obj","history","some","el","Object","entries","every","key","push","payload","useEffect","AllProducts","map","id","length"],"mappings":"6LAEaA,EAAc,iDAAG,wGACfC,MAAM,oBAChBC,MAAK,SAACC,GAAG,OAAKA,EAAIC,MAAM,IACxBF,MAAK,SAACG,GAAM,OAAKA,CAAM,IACvBC,OAAM,SAACC,GACNC,QAAQC,IAAI,iBAAkBF,GAC9BG,QAAMC,gBAAgB,CACpBC,MAAO,wBACPC,QAAS,iBACTC,KAAM,SACNC,OAAQ,MACRC,UAAW,YACXC,YAAa,CAAC,WAAY,UAC1BC,aAAc,CAAC,WAAY,WAC3BC,QAAS,CACPC,SAAU,IACVC,UAAU,EACVC,cAAc,IAGpB,IAAG,KAAD,8EACL,kBArB0B,mC,OCkBZC,EAlBoB,SAAH,GAAsC,IAAhCC,EAAO,EAAPA,QAASC,EAAe,EAAfA,gBAC7C,OACE,mCACE,sBAAKC,UAAU,OAAM,UACnB,qBAAKA,UAAU,UAAS,SACtB,qBAAKC,IAAKH,EAAQI,aAAcC,IAAI,UAEtC,oBAAIH,UAAU,QAAO,SAAEF,EAAQM,cAC/B,sBAAKJ,UAAU,YAAW,UACxB,oBAAGA,UAAU,QAAO,UAAEF,EAAQO,aAAY,IAAGP,EAAQQ,mBACrD,qBAAKL,IAAKH,EAAQS,YAAaC,OAAO,KAAKL,IAAI,WAEjD,wBAAQM,QAAS,kBAAMV,EAAgBD,EAAQ,EAAEE,UAAU,WAAU,6BAI7E,E,gBCZaU,EAAsB,WACjC,IAAQC,EAAkBC,cAAlBD,cACFE,EAAWC,cACjB,EAAgCC,mBAAS,IAAG,mBAArCC,EAAQ,KAAEC,EAAW,KAC5B,EAAsCF,mBAASJ,GAAc,mBAAtDO,EAAW,KAAEC,EAAc,KAClC,EAA4BJ,oBAAS,GAAM,mBAApCK,EAAM,KAAEC,EAAS,KAGlBC,EAAW,iDAAG,8FACF,OAAhBD,GAAU,GAAM,SACK/C,IAAiB,KAAD,EAA/BK,EAAM,OACZsC,EAAYtC,EAAO4C,aACnBF,GAAU,GAAO,2CAClB,kBALgB,mCAaXtB,EAAkB,SAACyB,GACvB,IAN6BC,EAMvBC,EAAUR,EANaO,EAOHD,EAATE,EANZC,MAAK,SAACC,GAAO,OAChBC,OAAOC,QAAQL,GAAKM,OAAM,mCAAEC,EAAG,KAAO,cAAgBJ,EAAGI,EAAI,GAAC,KAK/BN,EAAQO,KAAKT,GAC9CL,EAAeO,GACfb,EAAS,CACPzB,KAAM,iBACN8C,QAASR,GAEb,EAEAS,qBAAU,WACRb,GACF,GAAG,IAEH,IAAMc,EAAsB,OAARpB,QAAQ,IAARA,OAAQ,EAARA,EAAUqB,KAAI,SAACvC,GAAY,OAC7C,cAAC,EAAI,CACHA,QAASA,EAETC,gBAAiBA,GADZD,EAAQwC,GAEb,IAGJ,OACE,mCACGlB,EACC,cAAC,IAAW,IAEZ,yBAASpB,UAAU,OAAM,SACvB,qBAAKA,UAAU,YAAW,SACvBoC,EAAYG,OAAS,EACpB,qBAAKvC,UAAU,kBAAiB,SAAEoC,IAElC,sDAOd,EAEe1B,W","file":"static/js/3.37f2c1d5.chunk.js","sourcesContent":["import { store } from 'react-notifications-component';\r\n\r\nexport const getAllProducts = async () => {\r\n  return await fetch('../products.json')\r\n    .then((res) => res.json())\r\n    .then((result) => result)\r\n    .catch((error) => {\r\n      console.log('error happened', error);\r\n      store.addNotification({\r\n        title: 'Something Went Wrong!',\r\n        message: 'Error Happened',\r\n        type: 'danger',\r\n        insert: 'top',\r\n        container: 'top-right',\r\n        animationIn: ['animated', 'fadeIn'],\r\n        animationOut: ['animated', 'fadeOut'],\r\n        dismiss: {\r\n          duration: 3000,\r\n          onScreen: true,\r\n          pauseOnHover: true,\r\n        },\r\n      });\r\n    });\r\n};\r\n","import React from 'react';\r\n\r\nexport const Item: React.FC<any> = ({ product, handleClickCard }) => {\r\n  return (\r\n    <>\r\n      <div className=\"card\">\r\n        <div className=\"img-box\">\r\n          <img src={product.productImage} alt=\"img\" />\r\n        </div>\r\n        <h6 className=\"title\">{product.productName}</h6>\r\n        <div className=\"price-box\">\r\n          <p className=\"price\">{product.productPrice} {product.productCurrency}</p>\r\n          <img src={product.productLogo} height=\"40\" alt=\"img\" />\r\n        </div>\r\n        <button onClick={() => handleClickCard(product)} className=\"add-cart\">Add To Cart</button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { getAllProducts } from '../../services/products';\r\nimport Item from './Components/Item';\r\nimport { useMainDispatch, useMainState } from '../../context/gloabal';\r\nimport { InnerLoader } from '../../components/Loader';\r\n\r\nexport const Main: React.FC<any> = () => {\r\n  const { searchHistory } = useMainState();\r\n  const dispatch = useMainDispatch();\r\n  const [products, setProducts] = useState([]);\r\n  const [historyCard, setHistoryCard] = useState(searchHistory);\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  //getProducts\r\n  const getProducts = async () => {\r\n    setLoader(true);\r\n    const result = await getAllProducts();\r\n    setProducts(result.productList);\r\n    setLoader(false);\r\n  };\r\n\r\n  //Avoid pushing duplicate objects in array\r\n  const isDuplicate = (data: [], obj: Object) =>\r\n    data.some((el: any) =>\r\n      Object.entries(obj).every(([key, value]) => value === el[key])\r\n    );\r\n\r\n  const handleClickCard = (item: any) => {\r\n    const history = historyCard;\r\n    if (!isDuplicate(history, item)) history.push(item);\r\n    setHistoryCard(history);\r\n    dispatch({\r\n      type: 'search_history',\r\n      payload: history,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getProducts();\r\n  }, []);\r\n\r\n  const AllProducts = products?.map((product: any) => (\r\n    <Item\r\n      product={product}\r\n      key={product.id}\r\n      handleClickCard={handleClickCard}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <>\r\n      {loader ? (\r\n        <InnerLoader />\r\n      ) : (\r\n        <section className=\"main\">\r\n          <div className=\"container\">\r\n            {AllProducts.length > 0 ? (\r\n              <div className=\"product-section\">{AllProducts}</div>\r\n            ) : (\r\n              <p>No Results Found</p>\r\n            )}\r\n          </div>\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n"],"sourceRoot":""}